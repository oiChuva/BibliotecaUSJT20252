<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/css/cadastro-livro-style.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <title>Editar Livro</title>
</head>

<body>
<section id="section-main">

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">

            <a class="navbar-brand" href="/livros">Biblioteca</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="/cadastro-livro">Adicionar Livro</a>
                    </li>
                </ul>

                <div class="d-flex align-items-center">
                    <img src="/assets/images/avatar.png" class="rounded-circle" width="36" height="36">
                    <span class="text-white ms-2">{{ name.split()[0] }}</span>
                </div>
            </div>
        </div>
    </nav>

    <div class="content">
        <div id="div-cadastro">
            <form action="/editar-livro/{{ livro.id_livro }}" method="POST" id="form-cadastro">
                <h1>Editar Livro</h1>

                <div class="row">
                    <div class="col-md-4 mb-2">
                        <input type="text" class="form-control" name="titulo"
                               value="{{ livro.titulo }}" required>
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="text" class="form-control" name="subtitulo"
                               value="{{ livro.subtitulo }}">
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="text" class="form-control" name="autor"
                               value="{{ livro.autor }}" required>
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="text" class="form-control" name="editora"
                               value="{{ livro.editora }}">
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="number" class="form-control" name="ano_publicacao"
                               value="{{ livro.ano_publicacao }}">
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="text" class="form-control" name="genero"
                               value="{{ livro.genero }}">
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="text" class="form-control" name="edicao"
                               value="{{ livro.edicao }}">
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="text" class="form-control" name="isbn"
                               value="{{ livro.isbn }}">
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="number" class="form-control" name="quantidade_estoque"
                               value="{{ livro.quantidade_estoque }}">
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="number" step="0.01" class="form-control" name="preco_compra"
                               value="{{ livro.preco_compra }}">
                    </div>

                    <div class="col-md-4 mb-2">
                        <input type="number" step="0.01" class="form-control" name="preco_emprestimo"
                               value="{{ livro.preco_emprestimo }}">
                    </div>
                </div>

                <div class="text-center">
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" name="disponivel_compra"
                               {% if livro.disponivel_compra %} checked {% endif %}>
                        <label class="form-check-label">Disponível para Compra</label>
                    </div>

                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" name="disponivel_emprestimo"
                               {% if livro.disponivel_emprestimo %} checked {% endif %}>
                        <label class="form-check-label">Disponível para Empréstimo</label>
                    </div>
                </div>

                <button type="submit" class="btn btn-success" id="btn-cadastro">SALVAR ALTERAÇÕES</button>

                {% if error %}
                <div class="alert alert-danger mt-2">{{ error }}</div>
                {% endif %}
            </form>
        </div>
    </div>

</section>
</body>
</html>
